"use strict";var F=Object.create;var m=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,M=Object.getPrototypeOf,$=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var T=(e,n,t)=>n in e?m(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,l=(e,n)=>{for(var t in n||(n={}))$.call(n,t)&&T(e,t,n[t]);if(v)for(var t of v(n))R.call(n,t)&&T(e,t,n[t]);return e};var _=(e,n)=>{var t={};for(var r in e)$.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&v)for(var r of v(e))n.indexOf(r)<0&&R.call(e,r)&&(t[r]=e[r]);return t};var Q=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),V=(e,n)=>{for(var t in n)m(e,t,{get:n[t],enumerable:!0})},D=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of H(n))!$.call(e,a)&&a!==t&&m(e,a,{get:()=>n[a],enumerable:!(r=G(n,a))||r.enumerable});return e};var y=(e,n,t)=>(t=e!=null?F(M(e)):{},D(n||!e||!e.__esModule?m(t,"default",{value:e,enumerable:!0}):t,e)),X=e=>D(m({},"__esModule",{value:!0}),e);var E=(e,n,t)=>new Promise((r,a)=>{var f=o=>{try{i(t.next(o))}catch(u){a(u)}},s=o=>{try{i(t.throw(o))}catch(u){a(u)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(f,s);i((t=t.apply(e,n)).next())});var P=Q((ee,S)=>{"use strict";function J(){var e=Object.create(null),n=0,t=0,r=0,a=!1;this.put=function(s,i,o,u){if(a&&console.log("caching: %s = %j (@%s)",s,i,o),typeof o!="undefined"&&(typeof o!="number"||isNaN(o)||o<=0))throw new Error("Cache timeout must be a positive number");if(typeof u!="undefined"&&typeof u!="function")throw new Error("Cache timeout callback must be a function");var p=e[s];p?clearTimeout(p.timeout):r++;var c={value:i,expire:o+Date.now()};return isNaN(c.expire)||(c.timeout=setTimeout(function(){f(s),u&&u(s,i)}.bind(this),o)),e[s]=c,i},this.del=function(s){var i=!0,o=e[s];return o?(clearTimeout(o.timeout),!isNaN(o.expire)&&o.expire<Date.now()&&(i=!1)):i=!1,i&&f(s),i};function f(s){r--,delete e[s]}this.clear=function(){for(var s in e)clearTimeout(e[s].timeout);r=0,e=Object.create(null),a&&(n=0,t=0)},this.get=function(s){var i=e[s];if(typeof i!="undefined"){if(isNaN(i.expire)||i.expire>=Date.now())return a&&n++,i.value;a&&t++,r--,delete e[s]}else a&&t++;return null},this.size=function(){return r},this.memsize=function(){var s=0,i;for(i in e)s++;return s},this.debug=function(s){a=s},this.hits=function(){return n},this.misses=function(){return t},this.keys=function(){return Object.keys(e)},this.exportJson=function(){var s={};for(var i in e){var o=e[i];s[i]={value:o.value,expire:o.expire||"NaN"}}return JSON.stringify(s)},this.importJson=function(s,i){var o=JSON.parse(s),u=Date.now(),p=i&&i.skipDuplicates;for(var c in o)if(o.hasOwnProperty(c)){if(p){var d=e[c];if(d){a&&console.log("Skipping duplicate imported key '%s'",c);continue}}var h=o[c],g=h.expire-u;if(g<=0){this.del(c);continue}g=g>0?g:void 0,this.put(c,h.value,g)}return this.size()}}S.exports=new J;S.exports.Cache=J});var Z={};V(Z,{Languages:()=>W.default,default:()=>Y,translate:()=>K});module.exports=X(Z);var N=y(require("iso-639-1")),O=y(P());var z={needkey:!0,fetch:({key:e,from:n,to:t,text:r})=>{var a;return[new URL("v2/translate",`https://api${(a=e==null?void 0:e.endsWith)!=null&&a.call(e,":fx")?"-free":""}.deepl.com`),{method:"POST",headers:{Authorization:`DeepL-Auth-Key ${e}`,"Content-Type":"application/json"},body:JSON.stringify(l({text:[r],target_lang:t},n?{source_lang:n}:{}))}]},extraSourceLanguages:[""],parse:e=>E(void 0,null,function*(){if(e.ok)return e.json().then(n=>n.translations[0].text);throw e.status===403?new Error("auth error. check your DeepL API key."):new Error(`error ${e.status}`)})};var C={needkey:!1,fetch:({from:e,to:n,text:t})=>[new URL(`translate_a/single?client=gtx&sl=${e}&tl=${n}&dt=t&q=${t}`,"https://translate.googleapis.com")],parse:e=>e.json().then(n=>{var a;let t=n,r=((a=t==null?void 0:t[0])==null?void 0:a[0])&&t[0].map(f=>f[0]).join("");if(!r)throw new Error("translation not found");return r})};var A={needkey:!1,fetch:({url:e,key:n,from:t,to:r,text:a})=>[new URL("translate",e||"https://libretranslate.com"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l({q:a,source:t,target:r},n?{api_key:n}:{}))}],extraSourceLanguages:["auto"],parse:e=>e.json().then(n=>{let t=n;if(!(t!=null&&t.translatedText))throw new Error("no response");if(t.error)throw new Error(t.error);return t.translatedText})};var U={needkey:!1,fetch:({url:e,from:n,to:t,text:r})=>[new URL(`api/v1/${n}/${t}/${r}`,e||"https://lingva.ml")],extraSourceLanguages:["auto"],parse:e=>e.json().then(n=>{let t=n;if(!(t!=null&&t.translation))throw new Error("no response");if(t.error)throw new Error(t.error);return t.translation})};var I={needkey:!0,fetch:({key:e,from:n,to:t,text:r})=>[new URL(`api/v1.5/tr.json/translate?key=${e}&lang=${n}-${t}&text=${r}`,"https://translate.yandex.net"),{method:"POST"}],parse:e=>e.json().then(n=>{let t=n;if(t.code!==200)throw new Error(t.message);return t.text[0]})};var q={deepl:z,google:C,libre:A,lingva:U,yandex:I};var W=y(require("iso-639-1"));var K=(e,n)=>E(void 0,null,function*(){var w,L,x,b;let j=l({from:"en",to:"en",engine:"google"},typeof n=="string"?{to:n}:n),{url:t,key:r,cache:a}=j,f=_(j,["url","key","cache"]),s=l(l({},q),f.engines),i=f.engine||"google",o=s[i];if(!o)throw new Error(`invalid engine ${String(i)}`);let u=f.from||typeof f.from=="string"?f.from:"en",p=(((L=(w=o.extraSourceLanguages)==null?void 0:w.includes)==null?void 0:L.call(w,u))||N.default.validate(u))&&u||void 0,c=f.to||typeof f.to=="string"?f.to:"en",d=(((b=(x=o.extraTargetLanguages)==null?void 0:x.includes)==null?void 0:b.call(x,c))||N.default.validate(c))&&c||void 0;if(typeof p=="undefined")throw new Error(`unsupported source language "${p}"`);if(typeof d=="undefined")throw new Error(`unsupported target language "${d}"`);if(p===d)return e;let h=`${t}:${p}:${d}:${String(i)}:${e}`,g=O.default.get(h);if(g)return g;if(o.needkey&&!r)throw new Error(`engine ${String(i)} requires an API key`);return fetch(...o.fetch({from:p,to:d,key:r,url:t,text:e})).then(o.parse).then(B=>O.default.put(h,B,a))}),Y=K;0&&(module.exports={Languages,translate});
